<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>COAP gateway | plgd</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Secure and Interoperable Internet of Things">
    
    <link rel="preload" href="/assets/css/0.styles.6d18922d.css" as="style"><link rel="preload" href="/assets/js/app.80e8f158.js" as="script"><link rel="preload" href="/assets/js/2.a9beedce.js" as="script"><link rel="preload" href="/assets/js/17.6a068517.js" as="script"><link rel="prefetch" href="/assets/js/10.20cf7cbc.js"><link rel="prefetch" href="/assets/js/11.d94ee095.js"><link rel="prefetch" href="/assets/js/12.c209e4bc.js"><link rel="prefetch" href="/assets/js/13.0a631b50.js"><link rel="prefetch" href="/assets/js/14.752e41b9.js"><link rel="prefetch" href="/assets/js/15.bd162cbc.js"><link rel="prefetch" href="/assets/js/16.223c06d1.js"><link rel="prefetch" href="/assets/js/18.47632b20.js"><link rel="prefetch" href="/assets/js/19.ae2a0c3e.js"><link rel="prefetch" href="/assets/js/20.e6de6273.js"><link rel="prefetch" href="/assets/js/21.be76444a.js"><link rel="prefetch" href="/assets/js/22.9a69486a.js"><link rel="prefetch" href="/assets/js/23.f3ca512e.js"><link rel="prefetch" href="/assets/js/24.4faf0ceb.js"><link rel="prefetch" href="/assets/js/25.594ccf42.js"><link rel="prefetch" href="/assets/js/3.3459b652.js"><link rel="prefetch" href="/assets/js/4.af2ae3dc.js"><link rel="prefetch" href="/assets/js/5.ce653374.js"><link rel="prefetch" href="/assets/js/6.1c997a25.js"><link rel="prefetch" href="/assets/js/7.4d7f5550.js"><link rel="prefetch" href="/assets/js/8.bed6fe6c.js"><link rel="prefetch" href="/assets/js/9.e538a1e0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6d18922d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo-long.svg" alt="plgd" class="logo"> <span class="site-name can-hide">plgd</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://gitter.im/ocfcloud/Lobby" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat with us
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/plgd-dev/cloud/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/plgd-dev/cloud" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://gitter.im/ocfcloud/Lobby" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat with us
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/plgd-dev/cloud/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/plgd-dev/cloud" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting Started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Architecture</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Deployment</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/deployment/authorization-server.html" class="sidebar-link">Authorization server</a></li><li><a href="/guide/deployment/resource-aggregate.html" class="sidebar-link">Resource aggregate</a></li><li><a href="/guide/deployment/resource-directory.html" class="sidebar-link">Resource directory</a></li><li><a href="/guide/deployment/coap-gateway.html" aria-current="page" class="active sidebar-link">COAP gateway</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/deployment/coap-gateway.html#description" class="sidebar-link">Description</a></li><li class="sidebar-sub-header"><a href="/guide/deployment/coap-gateway.html#docker-image" class="sidebar-link">Docker Image</a></li><li class="sidebar-sub-header"><a href="/guide/deployment/coap-gateway.html#api" class="sidebar-link">API</a></li><li class="sidebar-sub-header"><a href="/guide/deployment/coap-gateway.html#configuration" class="sidebar-link">Configuration</a></li></ul></li><li><a href="/guide/deployment/cloud2cloud-connector.html" class="sidebar-link">Cloud2Cloud connector</a></li><li><a href="/guide/deployment/cloud2cloud-gateway.html" class="sidebar-link">Cloud2Cloud Gateway</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developing with plgd</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="coap-gateway"><a href="#coap-gateway" class="header-anchor">#</a> COAP gateway</h1> <h2 id="description"><a href="#description" class="header-anchor">#</a> Description</h2> <p>OCF Servers / Clients communicate over TCP / UDP using the CoAP application protocol. Communication within the OCF Native Cloud shouldn't be restricted to the CoAP protocol, implementation should allow the use of whatever protocol might be introduced in the future. That's why the gateway is the access point for CoAP over TCP, and further communication is OCF Native Cloud specific.</p> <p>TCP connection to the OCF Native Cloud is by its nature stateful. The OCF CoAP Gateway is therefore also stateful, keeping open connections to the OCF Servers / Clients.  The goal of the Gateway is to translate between the OCF Servers / Clients (CoAP) and the protocol of the OCF Native Cloud and communicate in an asynchronous way.</p> <h3 id="validation"><a href="#validation" class="header-anchor">#</a> Validation</h3> <ul><li>OCF CoAP Gateway can accept requests from the OCF Client / Server only after a successful sign-in</li> <li>OCF CoAP Gateway can forward requests to the OCF Client / Server only after successful sign-in</li> <li>If sign-in was not issued within the configured amount of time or sign-in request failed, OCF Native Cloud will forcibly close the TCP connection</li> <li>OCF CoAP Gateway sends command to update device core resource with its status.
<ul><li>Online when the device was successfully signed-in and communication lock released</li> <li>Offline when the device was disconnected or signed-out</li></ul></li> <li>Access Token from a successful sign-in must be locally persisted in the OCF CoAP Gateway and linked with an opened TCP channel</li> <li>Access Token linked with the opened TCP channel has to be included in each command issued to other OCF Native Cloud components</li> <li>OCF CoAP Gateway processes only those commands, which are designated for a device which the Gateway has an opened TCP channel to</li> <li>OCF CoAP Gateway is observing each resource published to the resource directory and publishes an event for every change</li> <li>OCF CoAP Gateway retrieves each published resource and updates Resources</li> <li>OCF CoAP Gateway has to expose the coap ping-pong + retry count configuration, which can be configured during the deployment</li> <li>OCF CoAP Gateway has to ping the device in the configured time, if pong is not received after the configured number of retries, then the connection with the device is closed and device is set as offline</li> <li>OCF CoAP Gateway processes events from Resources, by issuing a proper CoAP request to the device and raising an event with the response</li> <li>OCF CoAP Gateway has to process a waiting request within the configured time, or set the device as offline</li></ul> <h2 id="docker-image"><a href="#docker-image" class="header-anchor">#</a> Docker Image</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>docker pull plgd/coap-gateway:vnext
</code></pre></div><h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <p>Follow <a href="https://openconnectivity.org/specs/OCF_Device_To_Cloud_Services_Specification_v2.2.0.pdf" target="_blank" rel="noopener noreferrer">OCF Device To Cloud Services Specification<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="commands"><a href="#commands" class="header-anchor">#</a> Commands</h3> <ul><li>POST /oic/sec/account - sign up the device with authorization code</li> <li>DELETE /oic/sec/account - sign off the device with access token</li> <li>POST /oic/sec/tokenrefresh - refresh access token with refresh token</li> <li>POST /oic/sec/session - sign in the device with access token and with login true</li> <li>POST /oic/sec/session - sign out the device with access token and with login false</li> <li>POST /oic/rd - publish resources from the signed device</li> <li>DELETE /oic/rd - unpublish resources from the signed device</li> <li>GET /oic/res - discover all cloud devices resources from the signed device</li> <li>GET /oic/route/{deviceID}/{href} - get/observe resource of the cloud device from signed device</li> <li>POST /oic/route/{deviceID}/{href} - update resource of the cloud device from signed device</li> <li>DELETE /oic/route/{deviceID}/{href} - delete resource of the cloud device from signed device</li></ul> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <table><thead><tr><th>Option</th> <th>ENV variable</th> <th>Type</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td><code>-</code></td> <td><code>ADDRESS</code></td> <td>string</td> <td><code>listen address</code></td> <td><code>&quot;0.0.0.0:5684&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>EXTERNAL_PORT</code></td> <td>string</td> <td><code>used to fill discovery hrefs</code></td> <td><code>&quot;0.0.0.0:5684&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>FQDN</code></td> <td>string</td> <td><code>used to fill discovery</code></td> <td><code>&quot;coapgw.ocf.cloud&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>AUTH_SERVER_ADDRESS</code></td> <td>string</td> <td><code>authoriztion server address</code></td> <td><code>&quot;127.0.0.1:9100&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>RESOURCE_AGGREGATE_ADDRESS</code></td> <td>string</td> <td><code>resource aggregate address</code></td> <td><code>&quot;127.0.0.1:9100&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>RESOURCE_DIRECTORY_ADDRESS</code></td> <td>string</td> <td><code>resource directory address</code></td> <td><code>&quot;127.0.0.1:9100&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>REQUEST_TIMEOUT</code></td> <td>string</td> <td><code>wait for update/retrieve resource</code></td> <td><code>10s</code></td></tr> <tr><td><code>-</code></td> <td><code>KEEPALIVE_ENABLE</code></td> <td>bool</td> <td><code>check devices connection</code></td> <td>true</td></tr> <tr><td><code>-</code></td> <td><code>KEEPALIVE_TIMEOUT_CONNECTION</code></td> <td>string</td> <td><code>close inactive connection after limit</code></td> <td><code>&quot;20s&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DISABLE_BLOCKWISE_TRANSFER</code></td> <td>bool</td> <td><code>disable blockwise transfer</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>BLOCKWISE_TRANSFER_SZX</code></td> <td>int</td> <td><code>size of blockwise transfer block</code></td> <td><code>1024</code></td></tr> <tr><td><code>-</code></td> <td><code>DISABLE_TCP_SIGNAL_MESSAGE_CSM</code></td> <td>bool</td> <td><code>disable send CSM when connection was established</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>DISABLE_PEER_TCP_SIGNAL_MESSAGE_CSMS</code></td> <td>bool</td> <td><code>disable process peer CSM</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>ERROR_IN_RESPONSE</code></td> <td>bool</td> <td><code>send text error message in response</code></td> <td><code>true</code></td></tr> <tr><td><code>-</code></td> <td><code>SERVICE_OAUTH_ENDPOINT_TOKEN_URL</code></td> <td>string</td> <td><code>url to get service access token via OAUTH client credential flow</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>SERVICE_OAUTH_CLIENT_ID</code></td> <td>string</td> <td><code>client id for authentication to get access token</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>SERVICE_OAUTH_CLIENT_SECRET</code></td> <td>string</td> <td><code>secrest for authentication to get access token</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>SERVICE_OAUTH_AUDIENCE</code></td> <td>string</td> <td><code>refer to the resource servers that should accept the token</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>HEARTBEAT</code></td> <td>string</td> <td><code>defines check of live service</code></td> <td><code>&quot;4s&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>MAX_MESSAGE_SIZE</code></td> <td>int</td> <td><code>defines max message size which can be send/receive via coap</code></td> <td><code>262144</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_TYPE</code></td> <td>string</td> <td><code>defines how to obtain dial TLS certificates - options: acme|file</code></td> <td><code>&quot;acme&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_ACME_CA_POOL</code></td> <td>string</td> <td><code>path to pem file of CAs</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_ACME_DIRECTORY_URL</code></td> <td>string</td> <td><code>url of acme directory</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_ACME_DOMAINS</code></td> <td>string</td> <td><code>list of domains for which will be in certificate provided from acme</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_ACME_REGISTRATION_EMAIL</code></td> <td>string</td> <td><code>registration email for acme</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_ACME_TICK_FREQUENCY</code></td> <td>string</td> <td><code>interval of validate certificate</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_ACME_USE_SYSTEM_CERTIFICATION_POOL</code></td> <td>bool</td> <td><code>load CAs from system</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_FILE_CA_POOL</code></td> <td>string</td> <td><code>path to pem file of CAs</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_FILE_CERT_KEY_NAME</code></td> <td>string</td> <td><code>name of pem certificate key file</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_FILE_CERT_DIR_PATH</code></td> <td>string</td> <td><code>path to directory which contains DIAL_FILE_CERT_KEY_NAME and DIAL_FILE_CERT_NAME</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_FILE_CERT_NAME</code></td> <td>string</td> <td><code>name of pem certificate file</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>DIAL_FILE_USE_SYSTEM_CERTIFICATION_POOL</code></td> <td>bool</td> <td><code>load CAs from system</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_TYPE</code></td> <td>string</td> <td><code>defines how to obtain listen TLS certificates - options: acme|file</code></td> <td><code>&quot;acme&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_ACME_CA_POOL</code></td> <td>string</td> <td><code>path to pem file of CAs</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_ACME_DIRECTORY_URL</code></td> <td>string</td> <td><code>url of acme directory</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_ACME_DOMAINS</code></td> <td>string</td> <td><code>list of domains for which will be in certificate provided from acme</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_ACME_REGISTRATION_EMAIL</code></td> <td>string</td> <td><code>registration email for acme</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_ACME_TICK_FREQUENCY</code></td> <td>string</td> <td><code>interval of validate certificate</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_ACME_USE_SYSTEM_CERTIFICATION_POOL</code></td> <td>bool</td> <td><code>load CAs from system</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_ACME_DEVICE_ID</code></td> <td>string</td> <td><code>deviceID for OCF Identity Certificate</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_FILE_CA_POOL</code></td> <td>string</td> <td><code>path to pem file of CAs</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_FILE_CERT_KEY_NAME</code></td> <td>string</td> <td><code>name of pem certificate key file</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_FILE_CERT_DIR_PATH</code></td> <td>string</td> <td><code>path to directory which contains LISTEN_FILE_CERT_KEY_NAME and LISTEN_FILE_CERT_NAME</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_FILE_CERT_NAME</code></td> <td>string</td> <td><code>name of pem certificate file</code></td> <td><code>&quot;&quot;</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_FILE_USE_SYSTEM_CERTIFICATION_POOL</code></td> <td>bool</td> <td><code>load CAs from system</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>LISTEN_WITHOUT_TLS</code></td> <td>bool</td> <td><code>listen without TLS</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>LOG_ENABLE_DEBUG</code></td> <td>bool</td> <td><code>debug logging</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>DEVICESTATUSEXPIRATION_ENABLED</code></td> <td>bool</td> <td><code>enable refreshing device online status in short time than sign token expires</code></td> <td><code>false</code></td></tr> <tr><td><code>-</code></td> <td><code>DEVICESTATUSEXPIRATION_EXPIRESIN</code></td> <td>string</td> <td><code>defines interval to refresh device online status</code></td> <td><code>24h</code></td></tr></tbody></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/plgd-dev/cloud/edit/v2/docs/guide/deployment/coap-gateway.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/19/2021, 2:33:28 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/deployment/resource-directory.html" class="prev">
        Resource directory
      </a></span> <span class="next"><a href="/guide/deployment/cloud2cloud-connector.html">
        Cloud2Cloud connector
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.80e8f158.js" defer></script><script src="/assets/js/2.a9beedce.js" defer></script><script src="/assets/js/17.6a068517.js" defer></script>
  </body>
</html>
